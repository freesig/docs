<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Adding a Zome - The Holochain Guidebook</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">var path_to_root = "../";</script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="../welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li><ol class="section"><li><a href="../overview.html"><strong aria-hidden="true">1.1.</strong> Overview</a></li><li><a href="../how_to_contribute.html"><strong aria-hidden="true">1.2.</strong> How to contribute</a></li></ol></li><li><a href="../planning_a_dapp.html"><strong aria-hidden="true">2.</strong> Planning a dApp</a></li><li><a href="../building_apps.html"><strong aria-hidden="true">3.</strong> Building Holochain Apps: Intro</a></li><li><ol class="section"><li><a href="../intro_to_dna_config.html"><strong aria-hidden="true">3.1.</strong> Intro to DNA: Configuration</a></li><li><a href="../intro_to_dna_code.html"><strong aria-hidden="true">3.2.</strong> Intro to DNA: Code</a></li><li><a href="../intro_to_command_line_tools.html"><strong aria-hidden="true">3.3.</strong> Intro to Command Line Tools</a></li><li><a href="../new_project.html"><strong aria-hidden="true">3.4.</strong> Create A New Project</a></li><li><a href="../project_source_folders.html"><strong aria-hidden="true">3.5.</strong> Project Source Folders</a></li><li><a href="../configuring_an_app.html"><strong aria-hidden="true">3.6.</strong> Configuring an App</a></li><li><a href="../zome/rust.html"><strong aria-hidden="true">3.7.</strong> Writing in Rust</a></li><li><a href="../zome/assemblyscript.html"><strong aria-hidden="true">3.8.</strong> Writing in Assemblyscript</a></li><li><a href="../zome/intro_to_webassembly.html"><strong aria-hidden="true">3.9.</strong> Intro to WebAssembly</a></li><li><a href="../alpha_migrate.html"><strong aria-hidden="true">3.10.</strong> Updating from Proto to Rust</a></li><li><a href="../built_with_holochain.html"><strong aria-hidden="true">3.11.</strong> Built With Holochain</a></li><li><a href="../building_for_different_platforms.html"><strong aria-hidden="true">3.12.</strong> Building for Different Platforms</a></li></ol></li><li><a href="../zome/welcome.html"><strong aria-hidden="true">4.</strong> Building Holochain Apps: Zome Code</a></li><li><ol class="section"><li><a href="../first_steps.html"><strong aria-hidden="true">4.1.</strong> Build A To-Do App!</a></li><li><a href="../zome/adding_a_zome.html" class="active"><strong aria-hidden="true">4.2.</strong> Adding a Zome</a></li><li><a href="../zome/intro_to_hdk.html"><strong aria-hidden="true">4.3.</strong> Intro to HDK</a></li><li><a href="../zome/define_zome.html"><strong aria-hidden="true">4.4.</strong> Intro to Zome Definition</a></li><li><a href="../zome/entry_type_definitions.html"><strong aria-hidden="true">4.5.</strong> App Entry Type Definitions</a></li><li><a href="../zome/init.html"><strong aria-hidden="true">4.6.</strong> Init</a></li><li><a href="../zome/validate_agent.html"><strong aria-hidden="true">4.7.</strong> Validate Agent</a></li><li><a href="../zome/zome_functions.html"><strong aria-hidden="true">4.8.</strong> Zome Functions</a></li><li><a href="../zome/capabilities.html"><strong aria-hidden="true">4.9.</strong> Capabilities</a></li><li><a href="../zome/read_and_write.html"><strong aria-hidden="true">4.10.</strong> Read &amp; Write Data Operations</a></li><li><a href="../zome/entry_validation.html"><strong aria-hidden="true">4.11.</strong> (E) Entry Validation</a></li><li><a href="../zome/linking.html"><strong aria-hidden="true">4.12.</strong> (E) Linking</a></li><li><a href="../zome/node_to_node_messages.html"><strong aria-hidden="true">4.13.</strong> (E) Node to Node Messaging</a></li><li><a href="../zome/calling_other_zomes.html"><strong aria-hidden="true">4.14.</strong> (E) Calling Other Zomes</a></li><li><a href="../zome/crypto.html"><strong aria-hidden="true">4.15.</strong> Crypto Functions</a></li><li><a href="../zome/bundling.html"><strong aria-hidden="true">4.16.</strong> (E) Bundling</a></li><li><a href="../zome/emitting_signals.html"><strong aria-hidden="true">4.17.</strong> Emitting Signals</a></li><li><a href="../zome/dna_variables.html"><strong aria-hidden="true">4.18.</strong> API DNA Variables</a></li><li><a href="../zome/api_functions.html"><strong aria-hidden="true">4.19.</strong> List of API Functions</a></li></ol></li><li><a href="../packaging.html"><strong aria-hidden="true">5.</strong> Building Holochain Apps: Packaging</a></li><li><ol class="section"><li><a href="../build_files.html"><strong aria-hidden="true">5.1.</strong> .hcbuild Files</a></li><li><a href="../hcignore_files.html"><strong aria-hidden="true">5.2.</strong> .hcignore Files</a></li></ol></li><li><a href="../intro_to_testing.html"><strong aria-hidden="true">6.</strong> Building Holochain Apps: Testing</a></li><li><ol class="section"><li><a href="../running_tests.html"><strong aria-hidden="true">6.1.</strong> Running Tests</a></li><li><a href="../intro_to_holochain_nodejs.html"><strong aria-hidden="true">6.2.</strong> Intro to holochain-nodejs</a></li><li><a href="../testing_configuration.html"><strong aria-hidden="true">6.3.</strong> Configuration</a></li><li><ol class="section"><li><a href="../configuration_alternatives.html"><strong aria-hidden="true">6.3.1.</strong> Configuration Alternatives</a></li></ol></li><li><a href="../scenario_testing.html"><strong aria-hidden="true">6.4.</strong> Scenario Testing</a></li><li><ol class="section"><li><a href="../scenario_testing_setup.html"><strong aria-hidden="true">6.4.1.</strong> Setup</a></li><li><a href="../scenario_testing_running_tape.html"><strong aria-hidden="true">6.4.2.</strong> Running With Tape</a></li><li><a href="../other_test_harnesses.html"><strong aria-hidden="true">6.4.3.</strong> Other Test Harnesses</a></li></ol></li><li><a href="../nodejs_dna_instances.html"><strong aria-hidden="true">6.5.</strong> DNA Instances</a></li><li><ol class="section"><li><a href="../nodejs_calling_zome_functions.html"><strong aria-hidden="true">6.5.1.</strong> Calling Zome Functions</a></li><li><a href="../handling_async.html"><strong aria-hidden="true">6.5.2.</strong> Handle Network Asynchronicity</a></li></ol></li><li><a href="../testing_checking_results.html"><strong aria-hidden="true">6.6.</strong> (E) Checking Results</a></li><li><a href="../managing_the_conductor.html"><strong aria-hidden="true">6.7.</strong> Manually Manage the Conductor</a></li><li><a href="../access_instance_info.html"><strong aria-hidden="true">6.8.</strong> Access Instance Info</a></li></ol></li><li><a href="../conductors.html"><strong aria-hidden="true">7.</strong> Running Holochain Apps: Conductors</a></li><li><ol class="section"><li><a href="../development_conductor.html"><strong aria-hidden="true">7.1.</strong> Development Conductor</a></li><li><ol class="section"><li><a href="../hc_configuring_networking.html"><strong aria-hidden="true">7.1.1.</strong> Configuring Networking</a></li></ol></li><li><a href="../production_conductor.html"><strong aria-hidden="true">7.2.</strong> Production Conductor</a></li><li><ol class="section"><li><a href="../intro_to_toml_config.html"><strong aria-hidden="true">7.2.1.</strong> Intro to TOML Config Files</a></li><li><a href="../conductor_agents.html"><strong aria-hidden="true">7.2.2.</strong> Agents</a></li><li><a href="../conductor_dnas.html"><strong aria-hidden="true">7.2.3.</strong> DNAs</a></li><li><a href="../conductor_instances.html"><strong aria-hidden="true">7.2.4.</strong> Instances</a></li><li><a href="../conductor_interfaces.html"><strong aria-hidden="true">7.2.5.</strong> Interfaces</a></li><li><a href="../conductor_bridges.html"><strong aria-hidden="true">7.2.6.</strong> Bridges</a></li><li><a href="../conductor_ui_bundles.html"><strong aria-hidden="true">7.2.7.</strong> UI Bundles</a></li><li><a href="../conductor_ui_interfaces.html"><strong aria-hidden="true">7.2.8.</strong> UI Interfaces</a></li><li><a href="../conductor_logging.html"><strong aria-hidden="true">7.2.9.</strong> Logging</a></li><li><a href="../conductor_networking.html"><strong aria-hidden="true">7.2.10.</strong> Networking</a></li><li><a href="../conductor_persistence_dir.html"><strong aria-hidden="true">7.2.11.</strong> Persistence Directory</a></li></ol></li><li><a href="../json_rpc_interfaces.html"><strong aria-hidden="true">7.3.</strong> Intro to JSON-RPC Interfaces</a></li><li><a href="../conductor_json_rpc_api.html"><strong aria-hidden="true">7.4.</strong> Conductor JSON-RPC API</a></li><li><ol class="section"><li><a href="../json_rpc_http.html"><strong aria-hidden="true">7.4.1.</strong> HTTP</a></li><li><a href="../json_rpc_websockets.html"><strong aria-hidden="true">7.4.2.</strong> WebSockets</a></li></ol></li><li><a href="../conductor_admin.html"><strong aria-hidden="true">7.5.</strong> Conductor Admin</a></li></ol></li><li><a href="../apps_user_interfaces.html"><strong aria-hidden="true">8.</strong> Building Holochain Apps: User Interfaces</a></li><li><a href="../bridging.html"><strong aria-hidden="true">9.</strong> Building Holochain Apps: Bridging</a></li><li><a href="../live_hc_apps.html"><strong aria-hidden="true">10.</strong> (E) Going Live with Holochain Apps</a></li><li><ol class="section"><li><a href="../creating_versioned_releases.html"><strong aria-hidden="true">10.1.</strong> (E) Creating Versioned Releases</a></li></ol></li><li><a href="../apps_advanced_topics.html"><strong aria-hidden="true">11.</strong> (E) Building Holochain Apps: Advanced Topics</a></li><li><ol class="section"><li><a href="../json_string.html"><strong aria-hidden="true">11.1.</strong> Understanding JsonString</a></li><li><a href="../building_for_android.html"><strong aria-hidden="true">11.2.</strong> Building For Android</a></li></ol></li><li><a href="../extending_holochain.html"><strong aria-hidden="true">12.</strong> (E) Extending Holochain</a></li><li><ol class="section"><li><a href="../embedding_holochain.html"><strong aria-hidden="true">12.1.</strong> (E) Embedding Holochain</a></li><li><ol class="section"><li><a href="../core_api.html"><strong aria-hidden="true">12.1.1.</strong> (E) Core API</a></li></ol></li><li><a href="../dpki.html"><strong aria-hidden="true">12.2.</strong> Key Management (DPKI)</a></li><li><a href="../naming_conventions.html"><strong aria-hidden="true">12.3.</strong> Naming conventions</a></li><li><a href="../writing_development_kit.html"><strong aria-hidden="true">12.4.</strong> Writing a Development Kit (HDK)</a></li><li><a href="../zome/implementation.html"><strong aria-hidden="true">12.5.</strong> Implementing Zome API functions</a></li><li><a href="../state_actions.html"><strong aria-hidden="true">12.6.</strong> Redux Architecture</a></li><li><ol class="section"><li><a href="../state/actions.html"><strong aria-hidden="true">12.6.1.</strong> State actions</a></li></ol></li><li><a href="../state/actors.html"><strong aria-hidden="true">12.7.</strong> State actors</a></li></ol></li><li><a href="../faq.html"><strong aria-hidden="true">13.</strong> FAQ</a></li><li><a href="../glossary.html"><strong aria-hidden="true">14.</strong> (E) Glossary</a></li><li><ol class="section"><li><a href="../agent.html"><strong aria-hidden="true">14.1.</strong> (E) Agent</a></li><li><a href="../keys.html"><strong aria-hidden="true">14.2.</strong> (E) Keys</a></li><li><a href="../dna.html"><strong aria-hidden="true">14.3.</strong> (E) DNA</a></li><li><a href="../zome.html"><strong aria-hidden="true">14.4.</strong> (E) Zome</a></li><li><a href="../source_chain.html"><strong aria-hidden="true">14.5.</strong> (E) Source Chain</a></li><li><a href="../distributed_hash_table.html"><strong aria-hidden="true">14.6.</strong> Distributed Hash Table</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                            <a href="https://github.com/holochain/holochain-rust/edit/develop/doc/holochain_101/src/zome/adding_a_zome.md">
                                <i class="fa fa-edit"></i>
                            </a>
                        </div>

                        <h1 class="menu-title">The Holochain Guidebook</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#adding-a-zome" id="adding-a-zome"><h1>Adding a Zome</h1></a>
<p>After <a href="../new_project.html">creating a new project</a>, in the resulting folder there is an empty folder called 'zomes'. The name of this folder is important and should not be changed. It will serve as the root folder for the one or more Zomes in a project.</p>
<p>Every Zome should have its own folder within the 'zomes' root folder, and the name of those folders is also important, it should be the name of the Zome. It shouldn't have any spaces, and it should be a valid folder name.</p>
<p>While you could go about creating a new Zome manually through your file system, it will be far faster to use the Holochain command line tools to generate one, with all the basic files you need included.</p>
<p>To do this, navigate in a command line to the root directory of your hApp project. In the command line, run</p>
<pre><code class="language-shell">hc generate zomes/your_zome_name
</code></pre>
<p><code>hc</code> specifies that you wish to use the Holochain command line tools. <code>generate</code> specifies to use the command for initializing a new Zome. <code>zomes/your_zome_name</code> is an argument you supply as the path to, and the name of the Zome to generate.</p>
<p>The output should be as follows</p>
<pre><code class="language-shell">cargo init --lib --vcs none
Created library package
Generated new rust Zome at &quot;zomes/your_zome_name&quot;
</code></pre>
<p>Note that in the case of a Rust Zome, which is the only language for a Zome we can generate at the moment, it will rely internally on Rust related commands (<code>cargo init</code>), meaning that Rust (and its package manager, cargo) must already ALSO be installed for this command to work successfully.</p>
<p>This has created a new folder (<code>zomes/your_zome_name</code>) in which you have the beginnings of a Zome.</p>
<a class="header" href="#whats-in-a-zome" id="whats-in-a-zome"><h2>What's in a Zome?</h2></a>
<p>A Rust based Zome folder looks something like this:</p>
<ul>
<li>code
<ul>
<li>src
<ul>
<li>lib.rs</li>
</ul>
</li>
<li>.hcbuild</li>
<li>Cargo.toml</li>
</ul>
</li>
<li>zome.json</li>
</ul>
<p><code>code</code> is a folder that should always exist in a Zome, and should contain either pre-compiled WASM, or the source code and instructions to generate WASM. Everything within <code>code</code> is contextual to the language the Zome is written in, in the case above, a Rust &quot;crate&quot;. Files within <code>code</code> will be explained in detail below.</p>
<p><code>zome.json</code> is the top level configuration of your Zome.</p>
<a class="header" href="#rust-crate-zomes" id="rust-crate-zomes"><h3>Rust crate Zomes</h3></a>
<p>As mentioned above, the files within <code>code</code> are contextual to the language the Zome is written in, and in this case, that's Rust.</p>
<p>As developers tend to do, Rust developers gave their own unique name to Rust projects: &quot;crates&quot;. There are two types of Rust crates: <code>library</code> and <code>binary</code>. Since Zome code is getting compiled to WebAssembly, not standard binary executables, Zome crates use the <code>library</code> style, which is why we see under <code>code/src</code> a <code>lib.rs</code> file.</p>
<p>The most minimalistic library crate would look like this:</p>
<ul>
<li>src
<ul>
<li>lib.rs</li>
</ul>
</li>
<li>Cargo.toml</li>
</ul>
<p>Notice that the Zome we generated has one extra file, <code>.hcbuild</code>. This is the only Holochain specific file in the <code>code</code> folder. The rest is standard Rust. The <a href="../build_files.html"><code>.hcbuild</code> file is discussed</a> in another chapter.</p>
<p>In general, the generated files have been modified from their defaults to offer basic boilerplate needed to get started writing Zome code.</p>
<p><code>src/lib.rs</code> is the default entry point to the code of a library crate. It can be the one and only Rust file of a Zome, or it can use standard Rust imports from other Rust files and their exports, taking full advantage of the Rust module system natively.</p>
<p><code>Cargo.toml</code> is Rust's equivalent to nodejs' <code>package.json</code> or Ruby's <code>Gemfile</code>: a configuration and dependency specification at the same time.</p>
<p>Note that with the Cargo dependency system, Zome developers can take advantage of pre-existing Rust crates in their code, with one condition: that those dependencies are compatible when compiling to WebAssembly. This will be gone into in more detail elsewhere.</p>

                        <hr />
                        <a href="https://github.com/holochain/holochain-rust/edit/develop/doc/holochain_101/src/zome/adding_a_zome.md">suggest an edit</a>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../first_steps.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../zome/intro_to_hdk.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../first_steps.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../zome/intro_to_hdk.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
